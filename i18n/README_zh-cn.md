# ArchWSL
WSL 的 ArchLinux 封装，适用于 Windows 10 1709 或更高版本，
基于 [wsldl](https://github.com/yuk7/wsldl)。


![screenshot](https://raw.githubusercontent.com/wiki/yuk7/wsldl/img/Arch_Alpine_Ubuntu.png)

[![Build status zip](https://img.shields.io/github/workflow/status/yuk7/ArchWSL/Build%20zip%20CI?logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABEWlDQ1BTa2lhAAAokYWRoU7DUBSGPwqGhAQEYgJxBQIDAZYQBGqIBlu2ZODarhSStWtuu4wXIBgMBk14CHgFPAEDD4EgaP6uojUb%2F82558vJyb33PxecFpKzBklaWM%2FtmP7ZuaEhP8wzZmsBfj%2FKHd625%2FTN0vIgykPlb0VhdbmOHIjX44qvSw4qvivZdr1j8aN4K25w0OBJkRXi17I%2FzGzJX%2BKjZDgO63ezEqW9U%2BW%2BYoN9dhSGLhaflJwLIrFhwhUFl6IcD5eOyFVPwlj1f1TPc6S3Hf7A4n1dCx7g5RZan3Vt8wlWb%2BD5PfOtPy0tKZx2u5rzvDvqv5jh1Uy9uoy0YoZyaDiR21DujfzvssfBH0tmRP2ZPyMqAAAABHNCSVQICAgIfAhkiAAAAzpJREFUaIHtmc9qFFkUxn%2F3VnWHmMSgouMYJepIEFFxMQPjA7h3JcwT%2BAyzm93gE%2BhCdOufhUuRwTdwIXGhwZlEF4ITRzSKSaeq7jmzuFXVf5Ku6lZJ30B%2F0HTRnOKer873nXNvF4wxxhhjjPENMMXFym2OJ3FjduA7V1NYrQ979OoE75I9lTFJvPHq2v3ltYHX7oAB%2BPsWx1yzsQImGurmpQRcdYxTw72XZ3BqqsK%2BpJLN%2F%2Fngxfth1geIATZpzlghWjhqUB38ZmMj7L81DFB%2Bba3z8uOBvhHvP29OaRRdAu4MvrqHLZcREAcig3%2FcvsEKdmr2A1XPZaJhMaJXhk0e8gqQJEizgat7mL0wkM7F2C9SGXZoZp0zcX91bGbCf5%2FSS4s3G1eNoVJroMtnZ7LH5ooXb1z8LOKrMISC%2FH3TFqZtZUwEXDzypn9KCqsfdDpz3KhbbzM1PFtrLKqmF4xBcw%2FQiB3DV%2BA74uBszYPvwD9v9PyT6ywAS2UFXO6BEsO4eSdhQBRiZRJKD4BaLQk0fpxn8qdzUCfHEWHi6WtaS4sKabcHxAGq7Dn98wjTq0d84DD7Lx6y8NATSFMwdrQeGAbGQMv6obvVA0q4%2Bi%2BgCpm%2FjAGSFKLcAxp68j1oV8CREyAfBgET6Uit7EISeRJaJB9w%2Fj453yG9iQHTVYGgs%2Ff5pd4EvgIpiAWXlfoJm8QWCZHvRDsrsJsIJEk%2BB7Kii4ZNQDsYlBJy8W6qQC8BQEXzLqS7gIDQ1YXWU4hjkCzPWwInID1dKHMYayArtxJfcbLZSfRKyDpiMflWQvAMQ2bQr426jLb%2BQ5aQts%2Fg7UEWdXqg%2BpA%2BcohCus1WwnW0UZVAK2AodA50zgGrZQVUJFwJafeWv2yjzRiyrAiS3MiBQtTLhq5Bln8r4AI3sfRsp7cg%2BAoUA6sfARewB2D7OdAFkbDPxtL%2BG3FbAkF3IfAKydGnAi5sD6hC5ttQhQd2MqMhIbUVCLgLGfIuVFOBYE1s%2FOGreDfnCSipAh83vLzevmthq99ZjAyqIJnTiaZdg3yc%2FQH25G%2F8robjKrT2%2FjAlp3%2BZm8QQHA0LzExFf81dfn531Ll8F%2FwPo73Ufbbb6f8AAAAASUVORK5CYII%3D&style=flat-square)](https://github.com/yuk7/ArchWSL/actions)
[![AppVeyor](https://img.shields.io/appveyor/ci/yuk7/ArchWSL.svg?logo=Windows&style=flat-square)](https://ci.appveyor.com/project/yuk7/archwsl)
[![Travis (.org)](https://img.shields.io/travis/yuk7/ArchWSL-FS.svg?logo=Linux&style=flat-square)](https://travis-ci.org/yuk7/ArchWSL-FS)
[![Github All Releases](https://img.shields.io/github/downloads/yuk7/ArchWSL/total.svg?style=flat-square)](https://github.com/yuk7/ArchWSL/releases/latest)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](http://makeapullrequest.com)
![License](https://img.shields.io/github/license/yuk7/ArchWSL.svg?style=flat-square)

[English](https://github.com/yuk7/ArchWSL/blob/master/README.md)

### [⬇GH下载](https://github.com/yuk7/ArchWSL/releases/latest) | [⬇镜像下载](https://gitee.com/yuk7/archwsl-mirror) | [📓文档](https://wsldl-pg.github.io/ArchW-docs/)

## 💻系统需求
* Windows 10 1709 秋季创意者更新或者更高版本 / 任何版本的 Windows 11
* 开启 `适用于 Linux 的 Windows 子系统` 功能
* WSL2 的 Linux 内核包

## 💾安装
**[更多详情，请查看文档](https://wsldl-pg.github.io/ArchW-docs/locale/zh-CN/How-to-Setup/)**
### 📁Zip
#### 1. 下载 [[GH](https://github.com/yuk7/ArchWSL/releases/latest)/[镜像](https://gitee.com/yuk7/archwsl-mirror)] zip 安装包。

#### 2. 解压缩 zip 文件中的全部内容到相同的目录。
请解压到一个你拥有写权限的目录。

例如， `C:\Program Files` 就不该被使用。

#### 3. 运行 `Arch.exe` 来安装 rootfs 和注册表配置。

另外，EXE 文件的名称会同时用作你的 WSL 实例名称。

也就是说，如果复制多个 EXE 文件，并重命名成不同的名称，你就同时拥有了多个不同的 ArchWSL 并且互不冲突。

#### 4. 初始化 pacman keyring (可选)
这并不是必须的，但若是你想要使用 pacman，则你需要进行此操作。
请查看对应[文档页面](https://wsldl-pg.github.io/ArchW-docs/How-to-Setup/#initialize-keyring)。

### 📦appx
#### 1. 从 [[GH](https://github.com/yuk7/ArchWSL/releases/latest)/[镜像](https://gitee.com/yuk7/archwsl-mirror)] 下载发布的 .appx 和 .cer 文件。

#### 2. 安装 .cer 文件到 “本地计算机” 的 “受信任的根证书颁发机构”。
更多详情，请查看对应[文档页面](https://wsldl-pg.github.io/ArchW-docs/locale/zh-CN/Install-Certificate/)。

你必须有管理员权限才能安装证书！
#### 3. 安装 .appx 。

#### 4. 初始化 pacman keyring (可选)
这并不是必须的，但若是你想要使用 pacman，则你需要进行此操作。
请查看对应[文档页面](https://wsldl-pg.github.io/ArchW-docs/How-to-Setup/#initialize-keyring)。

### 🥄 Scoop
`scoop bucket add extras `

`scoop install archwsl `

## 📝如何使用(对于已安装的实例)
#### exe 用法
```shell
用法 :
    <无参数>
      - 以你的默认设置打开一个新的Shell。

    run <命令行>
      - 在此实例中运行你所给出的命令，继承当前Shell的所在目录。

    runp <命令行 (包含 windows 路径)>
      - 在此实例里运行转译过的命令行。

    config [setting [值]]
      - `--default-user <用户>`: 设定此实例的默认用户到 <用户>。
      - `--default-uid <uid>`: 设定此实例的默认用户 UID 到 <uid>。
      - `--append-path <on|off>`: 加入 Windows PATH 到 $PATH 的开关。
      - `--mount-drive <on|off>`: 挂载驱动器的开关。
      - `--default-term <default|wt|flute>`: 设置默认的终端窗口样式。

    get [setting]
      - `--default-uid`: 输出此实例的默认用户UID。
      - `--append-path`: 输出”加入 Windows PATH 到 $PATH“的开关状态。
      - `--mount-drive`: 输出”挂载驱动器”的开关状态。
      - `--wsl-version`: 输出此实例的WSL版本（1/2）。
      - `--default-term`: 输出此实例启动器的默认终端样式。
      - `--lxguid`: 输出此实例的 WSL GUID key。

    backup [contents]
      - `--tar`: 输出 backup.tar 到当前目录。
      - `--reg`: 输出设置注册表文件到当前目录。

    clean
      - 卸载此实例。

    help
      - 显示此帮助信息。
```

## ⬆️更新
### 📁zip
#### 1. [下载](https://github.com/yuk7/ArchWSL/releases/latest) 发布的 zip 文件。
#### 2. 从 zip 包中解压 .exe 和 rootfs.tar.gz，然后覆盖你已有的文件。

### 📦appx
#### 1. [下载](https://github.com/yuk7/ArchWSL/releases/latest) 发布的 .appx 文件。
#### 2. 覆盖已有的 .appx 文件。

## 🚫已知问题
请查看 [文档](https://wsldl-pg.github.io/ArchW-docs/locale/zh-CN/)。
